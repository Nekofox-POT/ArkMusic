//
// ArkMusic主界面
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////
// 导入第三方库 //
///////////////
import { webview } from '@kit.ArkWeb';

//////////////////
// 导入自创建模块 //
/////////////////

///////////
// 变量池 //
//////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 主页面入口 //
//////////////
@Entry
@Component
struct Index {
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  ///////////
  // 变量池 //
  //////////
  taskbar_ui: webview.WebviewController = new webview.WebviewController();
  status: Boolean = false

  ///////////
  // 更新池 //
  //////////

  /////////////////
  // web注册函数库 //
  /////////////////

  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // UI构建 //
  ///////////
  build() {
    Row() {

      /////////////
      // web界面 //
      ////////////
      Web({ src: $rawfile("webview_gui/index.html"), controller: this.taskbar_ui })
        .width('100%')
        .height('100%')
        .zIndex(900)
        .zoomAccess(false)
        .position({ x: 0, y: 0 })

      /////////////
      // 测试按钮 //
      ////////////
      Button()
        .width('200vp')
        .height('100vp')
        .onClick(() => {
          if (this.status) {
            this.status = false
            this.taskbar_ui.runJavaScript('taskbar_double(false)')
          } else {
            this.status = true
            this.taskbar_ui.runJavaScript('taskbar_double(true)')
          }
        })
        .zIndex(999)
        .position({ x: 0, y: 0 })

    }
  }
}